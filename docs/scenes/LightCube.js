import{aH as t,ab as s,a5 as i,M as e}from"../vendor.js";class a{constructor(t){var{artifact:s}=t,{lightDistance:i=.45,yOffset:e=1.45,showLights:a=s.showLights}=s;this.lightDistance=i,this.yOffset=e,this.showLights=a}init(t){var{engine:s,preload:i}=t,{renderer:e,scene:a,camera:h}=s,{gltf:n}=i.assets;this.model=n.scene,this.renderer=e,this.scene=a,this.camera=h,this.pointLight=this.createLight(16733525),this.model.add(this.pointLight),this.pointLight2=this.createLight(11184895),this.model.add(this.pointLight2)}createLight(a){var h=new t(a,50,1);if(h.castShadow=!0,h.shadow.camera.near=.1,h.shadow.camera.far=5,this.showLights){var n=new s(.005,6,6),r=new i({color:a}),o=new e(n,r);h.add(o)}return h}tick(t){var{timestamp:s}=t,i=this.lightDistance,e=5e-4*s,a=Math.sin(e)*i,h=Math.sin(1.1*e)*i+this.yOffset,n=Math.sin(1.2*e)*i;this.pointLight.position.set(a,h,n);var r=e+1e4,o=M.sin(r)*i,c=M.sin(1.1*r)*i+this.yOffset,g=M.sin(1.2*r)*i;this.pointLight2.position.set(o,c,g)}}export{a as default};

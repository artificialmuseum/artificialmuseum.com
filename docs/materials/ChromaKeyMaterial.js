import{S as e,_ as t,D as r,aL as a,a9 as o,L as n}from"../vendor.js";class i extends e{constructor(e,i){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{range:m=.5,mult:l=7,chromaKey:s=54322,chromaKeyDepthTest:c=!0}=e;super(t(t({side:o},v),{},{transparent:!0,uniforms:{tex:{type:"t",value:i},chromaKey:{type:"c",value:new r(s)},range:{type:"f",value:a(m)},mult:{type:"f",value:a(l)}},vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;void main(){vUv=uv;vec4 mvPosition=modelViewMatrix*vec4(position,1.0);gl_Position=projectionMatrix*mvPosition;}",fragmentShader:"#define GLSLIFY 1\nuniform sampler2D tex;uniform vec3 chromaKey;uniform float mult;uniform float range;varying vec2 vUv;void main(){vec3 tColor=texture2D(tex,vUv).rgb;float a=(length(tColor-chromaKey)-range)*mult;gl_FragColor=vec4(tColor,a);}",depthTest:c})),i.minFilter=n,i.magFilter=n}}export{i as ChromaKeyMaterial};
